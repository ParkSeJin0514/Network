# Network Shell Script ì‹¤ìŠµ ë¬¸ì œ
## ë¬¸ì œ 3. ì„œë²„ ìƒíƒœ ì ê²€ ìŠ¤í¬ë¦½íŠ¸
- ìš”êµ¬ì‚¬í•­
```servers.sh ì‹¤í–‰í•´ ê° ì„œë²„ì— ëŒ€í•´ ping í…ŒìŠ¤íŠ¸ ì‹¤í–‰
ì‘ë‹µ ìˆëŠ” ì„œë²„ì™€ ì—†ëŠ” ì„œë²„ë¥¼ êµ¬ë¶„í•˜ì—¬ ì¶œë ¥
ì‘ë‹µ ì‹œê°„ì´ 100ms ì´ìƒì¸ ì„œë²„ëŠ” "ëŠë¦¼" í‘œì‹œ
ì…ë ¥ í˜•íƒœ:
	~$ servers.sh 123.92.0.12
ì¶œë ¥ í˜•íƒœ:
=== ì„œë²„ ìƒíƒœ ì ê²€ ê²°ê³¼ ===
[ì •ìƒ] web01 (123.92.0.12) - ì‘ë‹µì‹œê°„: XXms
OR
=== ì„œë²„ ìƒíƒœ ì ê²€ ê²°ê³¼ ===
[ì˜¤í”„ë¼ì¸] db01 (123.92.0.11) - ì‘ë‹µì—†ìŒ
...
```
### ì œí•œì‚¬í•­
- ifë¬¸ê³¼ ë³€ìˆ˜ë§Œ ì‚¬ìš©
- cut, ping ëª…ë ¹ì–´ í™œìš©
- pingì€ 1íšŒë§Œ ì‹¤í–‰ (ping -c 1)

### ğŸ”§ ì •ë‹µ

```
#!/bin/bash

V_PING="$1"
V_PING_CHECK=$(ping -c 1 "$V_PING" 2> /dev/null)

echo "=== ì„œë²„ ìƒíƒœ ì ê²€ ê²°ê³¼ ==="
echo "$V_PING_CHECK"

if echo "$V_PING_CHECK" | grep -q "1 received"; then
        echo "($V_PING) : ì •ìƒ"
else
        echo "($V_PING) : ì˜¤í”„ë¼ì¸"
fi
```
```
[mk@192.168.0.100 ~/parksejin]$ source servers.sh 192.168.0.4
=== ì„œë²„ ìƒíƒœ ì ê²€ ê²°ê³¼ ===
PING 192.168.0.4 (192.168.0.4) 56(84) bytes of data.
64 bytes from 192.168.0.4: icmp_seq=1 ttl=64 time=0.581 ms

--- 192.168.0.4 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.581/0.581/0.581/0.000 ms
(192.168.0.4) : ì •ìƒ
```
```
[mk@192.168.0.100 ~/parksejin]$ source servers.sh 192.168.0.0
=== ì„œë²„ ìƒíƒœ ì ê²€ ê²°ê³¼ ===
PING 192.168.0.0 (192.168.0.0) 56(84) bytes of data.
From 192.168.0.100 icmp_seq=1 Destination Host Unreachable

--- 192.168.0.0 ping statistics ---
1 packets transmitted, 0 received, +1 errors, 100% packet loss, time 0ms
(192.168.0.0) : ì˜¤í”„ë¼ì¸
[mk@192.168.0.100 ~/parksejin]$ 
```